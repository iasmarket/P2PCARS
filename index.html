<!DOCTYPE html>
<html lang="fr">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calcul de la D√©pr√©ciation d'une Voiture</title>

   <!-- Tailwind CSS -->
   <script src="https://cdn.tailwindcss.com"></script>

   <!-- AOS CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
 </head>
 <body class="bg-gray-100 text-gray-800 font-sans">
 
   <!-- Contenu avec animation -->
   <div class="max-w-2xl mx-auto mt-20 p-6 bg-white rounded-2xl shadow-xl text-center"
        data-aos="fade-up"
        data-aos-duration="1000"
        data-aos-delay="200">
        
     <h1 class="text-3xl font-extrabold mb-4 text-indigo-600">Bienvenue sur P2P-CARS</h1>
     
     <p class="text-lg font-semibold mb-6 text-gray-700">D√©couvrez les meilleures offres de vente des voiture d'occasion Per to Per .</p>
     <p class="text-lg font-semibold mb-6 text-gray-700">By IaSmarKet services</p>
     <div>
       <button id="btn" class="bg-indigo-600 text-white px-6 py-2 rounded-full shadow hover:bg-indigo-700 transition">
         Explorer maintenant
       </button>
     </div>
   </div>
 
   <!-- AOS JS -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
   <script>
     AOS.init();
   </script>
 
   <!-- JavaScript moderne -->
   <script type="module">
    const btn = document.querySelector('#btn');
    btn?.addEventListener('click', () => {
      
      window.location.href = "https://www.p2p-cars.com";
    });
  </script>
  
 </body>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(to right, #818182, #6b6c6d, #e1e1e2);
      color: #bfbaba;
    }

    header {
      background: url('A_2D_digital_graphic_design_showcases_a_homepage_d.png') no-repeat center/cover;
      height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #fff;
      text-shadow: 2px 2px 6px #000;
    }

    header h1 {
      text-align: center;
      color: white;
    }

    .container {
      background: rgba(255, 255, 255, 0.95);
      color: #222;
      max-width: 900px;
      margin: 40px auto;
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    }

    h2 {
      color: #0a0f5e;
      font-size: 28px;
      border-bottom: 2px solid #1f8ef1;
      padding-bottom: 10px;
      margin-bottom: 25px;
      text-align: center;
      font-weight: bold;
    }

    label {
      font-weight: bold;
      display: block;
      margin: 15px 0 5px;
    }

    input, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      transition: 0.3s;
    }

    input:focus, select:focus {
      border-color: #1f8ef1;
      outline: none;
    }

    button {
      background-color: #1f8ef1;
      color: white;
      padding: 12px 25px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.3s;
    }

    button:hover {
      background-color: #0d6efd;
    }

    #result {
      margin-top: 30px;
      padding: 20px;
      background: #f1f9ff;
      border-left: 5px solid #1f8ef1;
      border-radius: 8px;
      font-size: 18px;
      color: #2c3e50;
    }

    #result .final-price {
      font-size: 32px;
      font-weight: bold;
      color: #ff5722;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
      margin-top: 15px;
      display: block;
      animation: pulse 1.5s infinite alternate;
    }

    @keyframes pulse {
      from { transform: scale(1); }
      to { transform: scale(1.05); }
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
    }

    table th, table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: center;
    }

    table th {
      background-color: #1f8ef1;
      color: white;
    }

    @media (max-width: 600px) {
      .container {
        padding: 20px;
      }

      header h1 {
        font-size: 24px;
      }

      button {
        width: 100%;
      }

      #result .final-price {
        font-size: 24px;
      }
    }
   
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #f9f9f9;
      font-size: 16px;
      min-width: 300px;
    }

    .checkbox-item input[type="checkbox"] {
      transform: scale(1.5);
      margin-right: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      background-color: #28a745;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>

<body>
    <h2>Estimation de la valeur d'un v√©hicule</h2>

    <form onsubmit="event.preventDefault(); calculerDepr√©ciation();">
        <label for="prix_initial">Prix d'achat initial (MAD) :</label>
        <input type="number" id="prix_initial" required><br><br>

        <label for="annee_modele">Ann√©e du mod√®le :</label>
        <input type="number" id="annee_modele" required><br><br>
        
        <label for="kilometrage">Kilom√©trage parcouru :</label>
        <input type="number" id="kilometrage" required><br><br>

        <label for="annee_revente">Ann√©e de revente :</label>
        <select id="annee_revente" onchange="remplirPrixParAnnee()" required></select><br><br>

        <label for="prix_acier">Prix de l'acier (MAD):</label>
        <input type="number" id="prix_acier" required><br><br>

        <label for="prix_aluminium">Prix de l'aluminium (MAD):</label>
        <input type="number" id="prix_aluminium" required><br><br>

        <label for="prix_cuivre">Prix du cuivre (MAD):</label>
        <input type="number" id="prix_cuivre" required><br><br>

        <label for="prix_plastiques">Prix des plastiques (MAD):</label>
        <input type="number" id="prix_plastiques" required><br><br>

        <!-- ‚úÖ Cases √† cocher en ligne -->
        <div class="checkbox-group">
          <label><input type="checkbox" id="dedouane"> D√©douan√© </label>
          <label><input type="checkbox" id="peinture"> Peinture renouvel√©e</label>
          <label><input type="checkbox" id="accident"> Jamais accident√© </label>
          <label><input type="checkbox" id="reparation"> Petites r√©parations pr√©vues)</label>
          <label><input type="checkbox" id="premierMain"> 1√®re main</label>
        </div>
        <button type="submit">Calculer la d√©pr√©ciation</button>
    </form>

    <h3 id="result"></h3>

    <h2>Historique des prix des mati√®res premi√®res</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Ann√©e</th>
                <th>Or</th>
                <th>Acier</th>
                <th>Aluminium</th>
                <th>Cuivre</th>
                <th>Plastiques</th>
            </tr>
        </thead>
        <tbody id="historique-prix"></tbody>
    </table>

    <script>



        const tauxChangeUSD_MAD = 10;
        const historiquePrix = [
            
            { annee: 1986, or: 100, acier: 500, aluminium: 800, cuivre: 1200, plastiques: 300 },
            { annee: 1987, or: 110, acier: 510, aluminium: 850, cuivre: 1250, plastiques: 320 },
            { annee: 1988, or: 120, acier: 520, aluminium: 900, cuivre: 1300, plastiques: 330 },
            { annee: 1989, or: 130, acier: 540, aluminium: 920, cuivre: 1350, plastiques: 340 },
            { annee: 1990, or: 150, acier: 550, aluminium: 950, cuivre: 1400, plastiques: 350 },
            { annee: 1991, or: 160, acier: 580, aluminium: 980, cuivre: 1450, plastiques: 360 },
            { annee: 1992, or: 170, acier: 600, aluminium: 1000, cuivre: 1500, plastiques: 370 },
            { annee: 1993, or: 180, acier: 620, aluminium: 1030, cuivre: 1550, plastiques: 380 },
            { annee: 1994, or: 190, acier: 640, aluminium: 1060, cuivre: 1600, plastiques: 390 },
            { annee: 1995, or: 200, acier: 660, aluminium: 1090, cuivre: 1650, plastiques: 400 },
            { annee: 1996, or: 210, acier: 680, aluminium: 1120, cuivre: 1700, plastiques: 410 },
            { annee: 1997, or: 220, acier: 700, aluminium: 1150, cuivre: 1750, plastiques: 420 },
            { annee: 1998, or: 230, acier: 720, aluminium: 1180, cuivre: 1800, plastiques: 430 },
            { annee: 1999, or: 240, acier: 740, aluminium: 1210, cuivre: 1850, plastiques: 440 },
            { annee: 2000, or: 250, acier: 760, aluminium: 1240, cuivre: 1900, plastiques: 450 },
            { annee: 2001, or: 280, acier: 780, aluminium: 1270, cuivre: 1950, plastiques: 460 },
            { annee: 2002, or: 290, acier: 800, aluminium: 1300, cuivre: 2000, plastiques: 470 },
            { annee: 2003, or: 300, acier: 820, aluminium: 1330, cuivre: 2050, plastiques: 480 },
            { annee: 2004, or: 320, acier: 840, aluminium: 1360, cuivre: 2100, plastiques: 490 },
            { annee: 2005, or: 340, acier: 860, aluminium: 1390, cuivre: 2150, plastiques: 500 },
            { annee: 2006, or: 360, acier: 880, aluminium: 1420, cuivre: 2200, plastiques: 510 },
            { annee: 2007, or: 380, acier: 900, aluminium: 1450, cuivre: 2250, plastiques: 520 },
            { annee: 2008, or: 410, acier: 920, aluminium: 1480, cuivre: 2300, plastiques: 530 },
            { annee: 2009, or: 430, acier: 940, aluminium: 1510, cuivre: 2350, plastiques: 540 },
            { annee: 2010, or: 450, acier: 960, aluminium: 1540, cuivre: 2400, plastiques: 550 },
            { annee: 2011, or: 480, acier: 980, aluminium: 1570, cuivre: 2450, plastiques: 560 },
            { annee: 2012, or: 510, acier: 1000, aluminium: 1600, cuivre: 2500, plastiques: 570 },
            { annee: 2013, or: 530, acier: 1020, aluminium: 1630, cuivre: 2550, plastiques: 580 },
            { annee: 2014, or: 550, acier: 1040, aluminium: 1660, cuivre: 2600, plastiques: 590 },
            { annee: 2015, or: 570, acier: 1060, aluminium: 1690, cuivre: 2650, plastiques: 600 },
            { annee: 2016, or: 590, acier: 1080, aluminium: 1720, cuivre: 2700, plastiques: 610 },
            { annee: 2017, or: 610, acier: 1100, aluminium: 1750, cuivre: 2750, plastiques: 620 },
            { annee: 2018, or: 630, acier: 1120, aluminium: 1780, cuivre: 2800, plastiques: 630 },
            { annee: 2019, or: 650, acier: 1140, aluminium: 1810, cuivre: 2850, plastiques: 640 },
            { annee: 2020, or: 670, acier: 1160, aluminium: 1840, cuivre: 2900, plastiques: 650 },
            { annee: 2021, or: 700, acier: 1180, aluminium: 1870, cuivre: 2950, plastiques: 660 },
            { annee: 2022, or: 750, acier: 1200, aluminium: 1900, cuivre: 3000, plastiques: 670 },
            { annee: 2023, or: 800, acier: 1220, aluminium: 1930, cuivre: 3050, plastiques: 680 },
            { annee: 2024, or: 850, acier: 1240, aluminium: 1960, cuivre: 3100, plastiques: 690 },
            { annee: 2025, or: 2000, acier: 1800, aluminium: 2000, cuivre: 5000, plastiques: 400 }


        ];



        function afficherHistorique() {
            const historiqueTable = document.getElementById("historique-prix");
            historiqueTable.innerHTML = "";
            historiquePrix.forEach(prix => {
                const row = `<tr>
                    <td>${prix.annee}</td>
                    <td>${prix.or}</td>
                    <td>${prix.acier}</td>
                    <td>${prix.aluminium}</td>
                    <td>${prix.cuivre}</td>
                    <td>${prix.plastiques}</td>
                </tr>`;
                historiqueTable.innerHTML += row;
            });

            const select = document.getElementById("annee_revente");
            historiquePrix.forEach(prix => {
                const option = document.createElement("option");
                option.value = prix.annee;
                option.textContent = prix.annee;
                select.appendChild(option);
            });
        }

        function remplirPrixParAnnee() {
            const annee = parseInt(document.getElementById("annee_revente").value);
            const donnees = historiquePrix.find(p => p.annee === annee);
            if (donnees) {
                document.getElementById("prix_acier").value = donnees.acier;
                document.getElementById("prix_aluminium").value = donnees.aluminium;
                document.getElementById("prix_cuivre").value = donnees.cuivre;
                document.getElementById("prix_plastiques").value = donnees.plastiques;
            }
        }

        function calculerDepr√©ciation() {
          let ajustement = 0;
      let details = "Ajustements appliqu√©s :\n";

      if (document.getElementById('dedouane').checked) {
        ajustement += 10000;
        details += "- D√©douan√© : +10 000 MAD\n";
      }
      if (document.getElementById('accident').checked) {
        ajustement += 2000;
        details += "- Jamais accident√© : +2 000 MAD\n";
      }
      if (document.getElementById('premierMain').checked) {
        ajustement += 2000;
        details += "- 1√®re main + pneus neufs : +2 000 MAD\n";
      }
      if (document.getElementById('peinture').checked) {
        ajustement -= 2000;
        details += "- Peinture renouvel√©e : -2 000 MAD\n";
      }
      if (document.getElementById('reparation').checked) {
        ajustement -= 2000;
        details += "- Petite r√©paration : -2 000 MAD\n";
      }
            const prixInitial = parseFloat(document.getElementById("prix_initial").value);
            const anneeModele = parseInt(document.getElementById("annee_modele").value);
            const anneeRevente = parseInt(document.getElementById("annee_revente").value);
            const prixAcier = parseFloat(document.getElementById("prix_acier").value);
            const prixAluminium = parseFloat(document.getElementById("prix_aluminium").value);
            const prixCuivre = parseFloat(document.getElementById("prix_cuivre").value);
            const prixPlastiques = parseFloat(document.getElementById("prix_plastiques").value);
            
            if (
                isNaN(prixInitial) || isNaN(anneeModele) || isNaN(anneeRevente) ||
                isNaN(prixAcier) || isNaN(prixAluminium) || isNaN(prixCuivre) || isNaN(prixPlastiques)
            ) {
                document.getElementById("result").innerText = "Veuillez remplir toutes les informations.";
                return;
            }

            const compositionMati√®res = {
                acier: 0.65,
                aluminium: 0.065,
                cuivre: 0.02,
                plastiques: 0.10
            };

            const prixRef = historiquePrix.find(p => p.annee === anneeRevente);
            const prixRefModel = historiquePrix.find(p => p.annee === anneeModele);

            if (!prixRef || !prixRefModel) {
                document.getElementById("result").innerText = "Donn√©es manquantes pour le calcul.";
                return;
            }

            // 1. Calcul principal (avec mati√®res premi√®res)
            const indiceModele = (
                prixRefModel.acier * compositionMati√®res.acier +
                prixRefModel.aluminium * compositionMati√®res.aluminium +
                prixRefModel.cuivre * compositionMati√®res.cuivre +
                prixRefModel.plastiques * compositionMati√®res.plastiques
            ) / 1000;

            const indiceRevente = (
                prixAcier * compositionMati√®res.acier +
                prixAluminium * compositionMati√®res.aluminium +
                prixCuivre * compositionMati√®res.cuivre +
                prixPlastiques * compositionMati√®res.plastiques
            ) / 1000;

            const ageVoiture = anneeRevente - anneeModele;
            const tauxDepreciation = Math.exp(-0.15 * ageVoiture);
            const valeurMP = prixInitial * tauxDepreciation * (indiceRevente / indiceModele);

            // 2. Calcul avec uniquement l'or
            const valeurOr = prixInitial * tauxDepreciation * (prixRef.or / prixRefModel.or);

            // 3. Moyenne
            const moyenneOccasion = (valeurMP + valeurOr) / 2;

                        // R√©cup√®re le kilom√©trage
            const kilometrage = parseFloat(document.getElementById("kilometrage").value);

            // V√©rifie que le kilom√©trage est un nombre valide
            if (isNaN(kilometrage)) {
                document.getElementById("result").innerText = "Veuillez renseigner le kilom√©trage.";
                return;
            }

            // Calcul du bonus kilom√©trage
            const bonusKilometrage = 10000 - ((10000 / 300000) * kilometrage);
            const montantFinal = moyenneOccasion + bonusKilometrage + ajustement ;


            document.getElementById("result").innerHTML = 
            `<strong>‚úî Valeur estim√©e avec mati√®res premi√®res :</strong> ${valeurMP.toFixed(2)} MAD<br>
            <strong>‚úî Valeur estim√©e selon le prix de l'or :</strong> ${valeurOr.toFixed(2)} MAD<br>
            <strong>üí∞ Moyenne estim√©e (valeur d'occasion) :</strong> <span style="color:darkgreen;">${moyenneOccasion.toFixed(2)} MAD</span><br>
            <strong>üöó Bonus kilom√©trage :</strong> ${bonusKilometrage.toFixed(2)} MAD<br>
            <strong>‚úÖ Montant final estim√© :</strong> <span style="color:blue;">${montantFinal.toFixed(2)} MAD</span>`;

            }

        window.onload = afficherHistorique;
    </script>
</body>
</html>
